<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <title>Recipes</title>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>
    
    <div class="container">
      <div class="mb-4 pb-2 border-bottom">
        <h1>Family Favorites</h1>
      
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="/">Home</a></li>
          <li class="breadcrumb-item active" aria-current="page">Recipes</li>
        </ol>

        <p>
        	We have had a few incidents recently where we couldn't find a recipe that we use all the time so I thought
        	it would be real easy to just put them on the web, so we always know where they are.  Here are some of the
        	recipes we use often (or don't want to lose).
        </p>
      </div>

      <ul id="recipes">
      </ul>
    </div>
    
    <footer id="footer">
    </footer>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/js/chamfam.js"></script>
    <script type="text/javascript">
      const ul = document.getElementById("recipes");
      ul.innerHTML = "";
      
      fetch("data/index.json")
        .then(response => response.json())
        .then(data => {
          data.forEach(sLink => {
            fetch("data/" + sLink + ".json")
              .then(response => response.json())
              .then(recipeData => {
                const li = document.createElement("li");
                li.innerHTML = `<a href="recipe.html?${sLink}">${recipeData.name}</a>`;
                ul.appendChild(li);
              })
              .catch(error => {
                const li = document.createElement("li");
                li.className = "alert alert-danger";
                li.textContent = "Request Failed: " + error.message;
                ul.appendChild(li);
              });
          });
        })
        .catch(error => {
          const li = document.createElement("li");
          li.className = "alert alert-danger";
          li.textContent = "Request Failed: " + error.message;
          ul.appendChild(li);
        });
    </script>
  </body>
</html>