<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
    <title>2010 OYAA Soccor</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <style type="text/css" media="all">@import url( "style.css" );</style>
    <script src="jquery-1.3.2.min.js"></script>
    <script type="text/javascript">
    
		var gsGame = getParameter( "game" );
		var giNumPhotos = getParameter( "numphotos" );
		var gsLoResPath = "./" + gsGame + "/LoRes/";
		var gsHiResPath = "./" + gsGame + "/HiRes/";
    
    	function viewPhoto( iImage )
    	{
    		hidePhoto();
    		
    		var winWidth = $( window ).width();
    		var winHeight = $( window ).height();
    		
			<!-- create the elements needed -->
			if( $.browser.msie && $.browser.version < 7 )
			{
				<!-- use an iframe for the mask because <select></select> in ie 6 shows through a div  --> 
				$( "<iframe id=\"popupmask\"></iframe><div id=\"popup\"><div id=\"popupheader\"></div><div id=\"popupcontent\"></div><div id=\"popupbottom\"></div></div>" ).appendTo( "body" );
			}
			else
			{
				$( "<div id=\"popupmask\"></div><div id=\"popup\"><div id=\"popupheader\"></div><div id=\"popupcontent\"></div><div id=\"popupbottom\"></div></div>" ).appendTo( "body" );
			}

			<!-- fill it in -->
			var sCurrent = "<img src=\"" + gsHiResPath + leftpad( iImage, "0", 4 ) + ".jpg\"/>"
			var iPrevious = iImage - 1;
			var sPrevious = "";
			var iNext = iImage + 1;
			var sNext = "";
			
			if( iPrevious > 0 )
			{
				sPrevious = "<span class=\"left\"><a href=\"#\" onclick=\"viewPhoto( " + iPrevious + " ); return false;\">Previous</a></span>";
			}
			
			if( iNext <= giNumPhotos )
			{
				sNext = "<span class=\"right\"><a href=\"#\" onclick=\"viewPhoto( " + iNext + " ); return false;\">Next</a></span>";
			}
			
			$( "#popupheader" ).html( "<a href=\"#\" class=\"right\" onclick=\"hidePhoto(); return false;\">Close</a>" );
			$( "#popupcontent" ).html( sCurrent );
			$( "#popupbottom" ).html( sPrevious + sNext + " " + iImage + " of " + giNumPhotos );
			
			<!-- size it -->    		
			$( "#popupmask" ).height( $( document ).height() );
			$( "#popupmask" ).width( $( document ).width() );
			$( "#popupmask" ).css( 'opacity', .50 );
			
			$( "#popup" ).width( 640 );
			$( "#popup" ).height( $( "#popupheader" ).height() + $( "#popupbottom" ).height() + 435 );
		
			<!-- position the popup in the center of the window -->
			var puHeight = $( "#popup" ).height();
			var puWidth = $( "#popup" ).width();
			var yScrolltop;
		    var xScrollleft;
		    
		    if( self.pageYOffset || self.pageXOffset )
		    {
		    	yScrolltop = self.pageYOffset;
		    	xScrollleft = self.pageXOffset;
		    }
		    else if( document.documentElement&& document.documentElement.scrollTop || document.documentElement.scrollLeft )
		    {
		    	// Explorer 6 Strict
		    	yScrolltop = document.documentElement.scrollTop;
		    	xScrollleft = document.documentElement.scrollLeft;
		    }
		    else if( document.body )
		    {
		    	// all other Explorers
		      	yScrolltop = document.body.scrollTop;
		      	xScrollleft = document.body.scrollLeft;
		    }
			
			$( "#popup" ).css( 'top', (winHeight - puHeight)/2 + yScrolltop );
			$( "#popup" ).css( 'left', (winWidth - puWidth)/2  + xScrollleft );

			<!-- show it -->			
			$( "#popupmask" ).show();
			$( "#popup" ).show();
    	}
    	
    	function hidePhoto()
    	{
    		$( "#popup" ).remove();
    		$( "#popupmask" ).remove();
    	}
    
		function getParameter( name )
		{
			name = name.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");
			
			var regexS = "[\\?&]"+name+"=([^&#]*)";
			var regex = new RegExp( regexS );
			var results = regex.exec( window.location.href );
			
			if( results == null )
			{
				return "";
			}
			
			return results[1];
		}
		
		function leftpad( base, character, size )
		{
			var sReturn = base.toString();
			
			while( sReturn.length < size )
			{
				sReturn = character + sReturn;
			}
			
			return sReturn;
		}
		
		function getPhotosHTML()
		{
    		var sHTML = "";
    		
    		for( var i = 1 ; i <= giNumPhotos ; i++ )
    		{
    			var sImageName = leftpad( i, "0", 4 ) + ".jpg";
    			
    			sHTML += "<div class=\"photo\"><a href=\"#\" onclick=\"viewPhoto( " + i + " ); return false;\"><img src=\"" + gsLoResPath + sImageName + "\"/></a></div>";
    		}
    		
    		$( "#photos" ).html( sHTML );
		}
		
		function getInfoHTML()
		{
			$.get
			( 
				"./" + gsGame + "/info.htm", 
				function( data )
				{
					$( "#info" ).html( data );
				}
			);
		}
		    
    	function onDocumentReady()
    	{
    		getInfoHTML();
    		getPhotosHTML();
    	}
    	
    	$( document ).ready( onDocumentReady );
    	
    </script>
</head>
<body>
<div id="content">

	<div id="main">
		<div id="info"></div>
		<div id="photos"></div>
		<div class="clear"><a href="index.html">Return</a></div>
	</div>

	<div id="footer">
		Comments... Questions... Suggestions...  Send me a note <a href="mailto:fletcher@chamfam.net">Fletcher Chambers</a>.
	</div>

</div>
</body>
</html>
